# Example goesproc configuration file to process GOES-N series products.
#
# It includes both GOES-13 and GOES-15 handlers because they both
# relayed imagery from each other (until December 2017 when GOES-13
# was replaced by GOES-16).
#

# Store all original FD products.
[[handler]]
type = "image"
product = "goes15"
region = "fd"
directory = "./goes15/{region:short|lower}/{time:%Y-%m-%d}"
filename = "GOES15_{region:short}_{channel:short}_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"

# Store all original NH products.
[[handler]]
type = "image"
product = "goes15"
region = "nh"
directory = "./goes15/{region:short|lower}/{time:%Y-%m-%d}"
filename = "GOES15_{region:short}_{channel:short}_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"

# Store all original SH products.
[[handler]]
type = "image"
product = "goes15"
region = "sh"
directory = "./goes15/{region:short|lower}/{time:%Y-%m-%d}"
filename = "GOES15_{region:short}_{channel:short}_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"

# Store all original US products.
[[handler]]
type = "image"
product = "goes15"
region = "us"
directory = "./goes15/{region:short|lower}/{time:%Y-%m-%d}"
filename = "GOES15_{region:short}_{channel:short}_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"

# Store all original FD products.
[[handler]]
type = "image"
product = "goes13"
region = "fd"
directory = "./goes13/{region:short|lower}/{time:%Y-%m-%d}"
filename = "GOES13_{region:short}_{channel:short}_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"

# Store all original NH products.
[[handler]]
type = "image"
product = "goes13"
region = "nh"
directory = "./goes13/{region:short|lower}/{time:%Y-%m-%d}"
filename = "GOES13_{region:short}_{channel:short}_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"

# Store all original SH products.
[[handler]]
type = "image"
product = "goes13"
region = "sh"
directory = "./goes13/{region:short|lower}/{time:%Y-%m-%d}"
filename = "GOES13_{region:short}_{channel:short}_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"

# Store all original US products.
[[handler]]
type = "image"
product = "goes13"
region = "us"
directory = "./goes13/us/{time:%Y-%m-%d}"
filename = "GOES13_{region:short}_{channel:short}_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"

# The following 3 handlers take the same crop from the FD, NH, and US
# products to get more frequent imagery of a smaller area on the
# northern hemisphere. The coordinates for the crop represent the
# largest intersection between the areas covered by the products.
# See code in src/lrit/intersect.cc on how this is computed.
[[handler]]
type = "image"
product = "goes15"
region = "fd"
crop = [ -1312, 1447, -1327, -343 ]
directory = "./goes15/combine-north/{time:%Y-%m-%d}"
filename = "GOES15_{channel:short}_{time:%Y%m%dT%H%M%SZ}_{region:short}"
format = "jpg"

[[handler]]
type = "image"
product = "goes15"
region = "nh"
crop = [ -1312, 1447, -1327, -343 ]
directory = "./goes15/combine-north/{time:%Y-%m-%d}"
filename = "GOES15_{channel:short}_{time:%Y%m%dT%H%M%SZ}_{region:short}"
format = "jpg"

[[handler]]
type = "image"
product = "goes15"
region = "us"
crop = [ -1312, 1447, -1327, -343 ]
directory = "./goes15/combine-north/{time:%Y-%m-%d}"
filename = "GOES15_{channel:short}_{time:%Y%m%dT%H%M%SZ}_{region:short}"
format = "jpg"

# The following 2 handlers take the same crop from the FD and SH
# products to get more frequent imagery of a smaller area on the
# southern hemisphere.
[[handler]]
type = "image"
product = "goes15"
region = "fd"
crop = [ -1864, 242, -19, 637 ]
directory = "./goes15/combine-south/{time:%Y-%m-%d}"
filename = "GOES15_{channel:short}_{time:%Y%m%dT%H%M%SZ}_{region:short}"
format = "jpg"

[[handler]]
type = "image"
product = "goes15"
region = "sh"
crop = [ -1864, 242, -19, 637 ]
directory = "./goes15/combine-south/{time:%Y-%m-%d}"
filename = "GOES15_{channel:short}_{time:%Y%m%dT%H%M%SZ}_{region:short}"
format = "jpg"

# The following 3 handlers take the same crop from the FD, NH, and US
# products to get more frequent imagery of a smaller area on the
# northern hemisphere. The coordinates for the crop represent the
# largest intersection between the areas covered by the products.
# See code in src/lrit/intersect.cc on how this is computed.
[[handler]]
type = "image"
product = "goes13"
region = "fd"
crop = [ -1574, 602, -1202, -382 ]
directory = "./goes13/combine-north/{time:%Y-%m-%d}"
filename = "GOES13_{channel:short}_{time:%Y%m%dT%H%M%SZ}_{region:short}"
format = "jpg"

[[handler]]
type = "image"
product = "goes13"
region = "nh"
crop = [ -1574, 602, -1202, -382 ]
directory = "./goes13/combine-north/{time:%Y-%m-%d}"
filename = "GOES13_{channel:short}_{time:%Y%m%dT%H%M%SZ}_{region:short}"
format = "jpg"

[[handler]]
type = "image"
product = "goes13"
region = "us"
crop = [ -1574, 602, -1202, -382 ]
directory = "./goes13/combine-north/{time:%Y-%m-%d}"
filename = "GOES13_{channel:short}_{time:%Y%m%dT%H%M%SZ}_{region:short}"
format = "jpg"

# The following 2 handlers take the same crop from the FD and SH
# products to get more frequent imagery of a smaller area on the
# southern hemisphere.
[[handler]]
type = "image"
product = "goes13"
region = "fd"
crop = [ -1574, 1889, 506, 1074 ]
directory = "./goes13/combine-south/{time:%Y-%m-%d}"
filename = "GOES13_{channel:short}_{time:%Y%m%dT%H%M%SZ}_{region:short}"
format = "jpg"

[[handler]]
type = "image"
product = "goes13"
region = "sh"
crop = [ -1574, 1889, 506, 1074 ]
directory = "./goes13/combine-south/{time:%Y-%m-%d}"
filename = "GOES13_{channel:short}_{time:%Y%m%dT%H%M%SZ}_{region:short}"
format = "jpg"

# Images relayed from Himawari-8.
[[handler]]
type = "image"
product = "himawari8"
directory = "./himawari8/{region:short|lower}/{time:%Y-%m-%d}"
filename = "Himawari8_{region:short}_{channel:short}_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"

# NWS text (weather reports).
[[handler]]
type = "text"
product = "nws"
directory = "./nws/{time:%Y-%m-%d}"
filename = "{time:%Y%m%dT%H%M%SZ}_{awips:nnn}{awips:xxx}"

# NWS images.
[[handler]]
type = "image"
product = "nws"
directory = "./nws/{time:%Y-%m-%d}"
filename = "{time:%Y%m%dT%H%M%SZ}_{filename}"
format = "png"

# Miscellaneous text.
[[handler]]
type = "text"
product = "other"
directory = "./text/{time:%Y-%m-%d}"
filename = "{time:%Y%m%dT%H%M%SZ}_{filename}"
